st              [复制mark到Local]   [CAS更新指针]       <CAS成功?>
<CAS成功?>:y    [修改标志位]         [轻量级锁定成功]    ed
<CAS成功?>:n    <指针指向当前线程?>
<指针指向当前线程?>:y            {继续后续操作}          ed
<指针指向当前线程?>:n            {膨胀为重量级锁}        ed